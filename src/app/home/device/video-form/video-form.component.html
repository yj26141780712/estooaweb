<div class="form-container">
    <form nz-form [formGroup]="formGroup">
        <div nz-row>
            <div nz-col [nzSm]="24" nzXs="24">
                <nz-form-item>
                    <nz-form-label nzSm="3" nzXs="24" nzRequired>标题</nz-form-label>
                    <nz-form-control nzSm="19" nzXs="24" nzErrorTip="请输入标题">
                        <input type="text" nz-input formControlName="title" placeholder="请输入标题">
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col [nzSm]="12" nzXs="24">
                <nz-form-item>
                    <nz-form-label nzSm="6" nzXs="24" nzRequired>封面图片</nz-form-label>
                    <nz-form-control nzSm="16" nzXs="24">
                        <div nz-row [nzGutter]="[8,8]">
                            <div *ngIf="image?.src" nz-col [nzSpan]="12">
                                <div class="image-container">
                                    <img nz-image width="102px" height="102px" [nzDisablePreview]="true"
                                        [nzSrc]="image.src" />
                                    <div class="image-tools">
                                        <span nz-icon nzType="eye" title="预览" (click)="preview($event)"></span>
                                        <span nz-icon nzType="delete" title="删除" (click)="delete($event)"></span>
                                    </div>
                                </div>
                            </div>
                            <div nz-col [nzSpan]="12">
                                <nz-upload nzListType="picture-card" [(nzFileList)]="fileList"
                                    [nzBeforeUpload]="beforeUpload" [nzShowUploadList]="false" [nzAccept]="'image/*'">
                                    <div>
                                        <i nz-icon nzType="plus"></i>
                                        <div style="margin-top: 8px">点击上传</div>
                                    </div>
                                </nz-upload>
                            </div>
                        </div>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col [nzSm]="12" nzXs="24">
                <nz-form-item>
                    <nz-form-label nzSm="6" nzXs="24" nzRequired>视频文件</nz-form-label>
                    <nz-form-control nzSm="16" nzXs="24">
                        <div nz-row [nzGutter]="[8,8]">
                            <div *ngIf="video" nz-col [nzSpan]="12">
                                <div class="image-container">
                                    <div class="video-preview">
                                        <span nz-icon nzType="file"></span>
                                    </div>
                                    <div class="image-tools">
                                        <span nz-icon nzType="play-circle" title="预览"
                                            (click)="preview($event,'video')"></span>
                                        <span nz-icon nzType="delete" title="删除"
                                            (click)="delete($event,'video')"></span>
                                    </div>
                                </div>
                            </div>
                            <div nz-col [nzSpan]="12">
                                <nz-upload nzListType="picture-card" [nzAccept]="'video/*'"
                                    [(nzFileList)]="videoFileList" [nzBeforeUpload]="videoBeforeUpload"
                                    [nzShowUploadList]="false">
                                    <div>
                                        <i nz-icon nzType="plus"></i>
                                        <div style="margin-top: 8px">点击上传</div>
                                    </div>
                                </nz-upload>
                            </div>
                        </div>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col [nzSm]="24" nzXs="24">
                <nz-form-item>
                    <nz-form-label nzSm="3" nzXs="24">备注</nz-form-label>
                    <nz-form-control nzSm="19" nzXs="24">
                        <nz-textarea-count [nzMaxCharacterCount]="200">
                            <textarea rows="4" nz-input formControlName="remark" placeholder="请输入备注"></textarea>
                        </nz-textarea-count>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
    </form>
</div>
<div *nzModalFooter>
    <nz-space>
        <button nz-button (click)="cancel()">取消</button>
        <button nz-button nzType="primary" [nzLoading]="loading" (click)="submitForm()">确定</button>
    </nz-space>
</div>